<html xmlns:th="http://www.thymeleaf.org">

<html>
<head>
	<title>결제목록</title>
</head>

<body>
	<table border="1">
		<tr>
			<th align="center" width="160">닉네임</th>
			<th align="center" width="160">지정공연제목</th>
			<th align="center" width="160">미지정공연제목</th>
			<th align="center" width="160">가격</th>
			<th align="center" width="160">상품조회하기</th>
			<th align="center" width="160">환불하기</th>
			<th align="center" width="160">결제날짜</th>
		</tr>
		<tr th:each="list : ${sList}">
			<td align="center" th:text="${list.fundUser}">닉네임</td>
			<td align="center" th:text="${list.fundBoardTarget}">지정공연제목</td>
			<td align="center" th:text="${list.fundBoard}">미지정공연제목</td>
			<td align="center" th:text="| ${list.payMoney}원|">가격</td>
			<td align="center">
				<button th:onclick="'location.href=\'' + @{/pay/loo/lookupRquest(orderId=${list.orederId})} + '\''" type="submit">상품조회하기</button>
			</td>
			<td align="center">
				<button th:if="${list.fundBoardTarget} != null and ${list.checkin} == null " th:onclick="'location.href=\'' + @{/pay/can/tarCancel(paymentKey=${list.payCode})} + '\''" type="submit">지정환불하기</button>
				<button th:if="${list.fundBoard} != null and ${list.checkin} == null" th:onclick="'location.href=\'' + @{/pay/can/cancel(paymentKey=${list.payCode})} + '\''" type="submit">미지정환불하기</button>
			</td>
			<td align="center" th:text="${list.payDate}">결제날짜</td>
		</tr>		
	</table>
	<!-- 페이징 -->
	<div class="page" th:if="${!sList.isEmpty()}">
		<div th:if="${sList.number > 0}">
			<a th:href="@{|?page=${sList.number-1}|}">
				<i class="fas fa-chevron-left"></i>
			</a>
		</div>
		<div th:each="page : ${#numbers.sequence(0,sList.totalPages-1)}"
		th:if="${sList.number-3 < page and sList.number+3 > page}">
			<a th:classappend="${page == sList.number} ? 'active'" th:text="${page+1}" 
			th:href="@{|?page=${page}|}"></a>
		</div>
		<div th:if="${sList.number < sList.totalPages-1}">
			<a th:href="@{|?page=${sList.number+1}|}">
				<i class="fas fa-chevron-right"></i>
			</a>
		</div>
	</div>
	<!-- //페이징 -->

	 
	<table border="1">
		<tr>
			<th align="center" width="160">닉네임</th>
			<th align="center" width="160">지정공연제목</th>
			<th align="center" width="160">미지정공연제목</th>
			<th align="center" width="160">가격</th>
			<th align="center" width="160">환불사유</th>
			<th align="center" width="160">환불날짜</th>
		</tr>
		<tr th:each="list : ${cList}">
			<td align="center" th:text="${list.fundUser}">닉네임</td>
			<td align="center" th:text="${list.fundBoardTarget}">지정공연제목</td>
			<td align="center" th:text="${list.fundBoard}">미지정공연제목</td>
			<td align="center" th:text="| ${list.payMoney}원|">가격</td>
			<td align="center" th:text="${list.cancelReason}">환불사유</td>
			<td align="center" th:text="${list.canceledAt}">환불날짜</td>
		</tr>
	</table>
	<!-- 페이징 
	<div class="page" th:if="${!cList.isEmpty()}">
		<div th:if="${cList.number > 0}">
			<a th:href="@{|?page=${cList.number-1}|}">
				<i class="fas fa-chevron-left"></i>
			</a>
		</div>
		<div th:each="page : ${#numbers.sequence(0,cList.totalPages-1)}"
		th:if="${cList.number-3 < page and cList.number+3 > page}">
			<a th:classappend="${page == cList.number} ? 'active'" th:text="${page+1}" 
			th:href="@{|?page=${page}|}"></a>
		</div>
		<div th:if="${cList.number < cList.totalPages-1}">
			<a th:href="@{|?page=${cList.number+1}|}">
				<i class="fas fa-chevron-right"></i>
			</a>
		</div>
	</div>
	-->
	<!-- //페이징 -->

    <div class="home">
        <a href="/">홈페이지</a>
    </div>
	<script>
	</script>
</body>
</html>